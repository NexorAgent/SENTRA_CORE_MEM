import os
import openai

def correct_with_gpt(file_path, model="gpt-4", max_tokens=2000):
    if not os.path.exists(file_path):
        return False, f"❌ Fichier introuvable : {file_path}"

    try:
        with open(file_path, "r") as f:
            code = f.read()

        prompt = f"""
Tu es un expert Python. Corrige ce script si nécessaire (erreurs de logique, import manquant, noms incohérents...).
Conserve la structure globale. Ne change pas le style s’il est valide. Voici le code :

```python
{code}
